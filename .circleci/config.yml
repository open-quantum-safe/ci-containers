version: 2

.openssl_job: &openssljob
  docker:
    - image: ${IMAGE}
  steps:
    - checkout
    - setup_remote_docker
    - run:
        name: Check env vars
        command: echo $DOCKER_LOGIN

jobs:
  ################
  # OPENSSL JOBS #
  ################
  ssl-x86_64-bionic-liboqs-master-openssl-111:
    <<: *openssljob
    environment:
      #IMAGE: dstebila/liboqs:ubuntu-bionic-x86_64-0.1.0
      IMAGE: zrlmib/liboqs-ubuntu-bionic
      ARCH: x64
      LIBOQS: master
      OPENSSL: 111

workflows:
  version: 2
  build:
    jobs:
      - ssl-x86_64-bionic-liboqs-master-openssl-111:
        - context: zrlmib

